# Test Empathic Proxy - Step by Step

## âœ… App is Installed!

Now let's test all the features.

---

## Test 1: Home Tab (Inbox)

### Steps:
1. Open Slack
2. Click **"Empathic Proxy"** in the Apps section (left sidebar)
3. Click the **"Home"** tab
4. You should see your inbox

### Expected Result:
- Inbox displays (may be empty initially)
- Shows "Your Inbox" header
- Lists inbox items when you receive messages

---

## Test 2: Direct Message (DM)

### Steps:
1. In Slack, send a DM to **@Empathic Proxy**
2. Type a message like: `Hey, can you help me with this task?`
3. Wait 5-10 seconds
4. Open the **Home tab** again (click Empathic Proxy â†’ Home)

### Expected Result:
- The DM appears in your inbox
- Shows the message content
- Shows an extracted action (generated by LLM)
- Shows a suggested reply (generated by LLM)
- Has a "Reply" button

### What to Look For:
- âœ… Message appears in inbox
- âœ… Action extraction works (LLM processed the message)
- âœ… Suggested reply is generated
- âœ… Can click "Reply" button

---

## Test 3: App Mention

### Steps:
1. Go to any channel in your workspace
2. Mention the bot: `@Empathic Proxy Can you review this document?`
3. Wait 5-10 seconds
4. Open the **Home tab** (Empathic Proxy â†’ Home)

### Expected Result:
- The mention appears in your inbox
- Shows the channel name
- Shows the message content
- Shows extracted action and suggested reply
- Has a "Reply" button

### What to Look For:
- âœ… Mention appears in inbox
- âœ… Shows which channel it came from
- âœ… LLM processed it (action + reply shown)

---

## Test 4: Message Shortcut (Composer)

### Steps:
1. Find any message in Slack (in any channel or DM)
2. **Right-click** on the message
3. Select **"Compose Reply"** from the menu
4. A modal should open

### Expected Result:
- Modal opens with composer
- Shows the original message context
- Has a text input area
- Has buttons: "Transform", "Preview", "Post"

### What to Look For:
- âœ… Shortcut appears in right-click menu
- âœ… Modal opens successfully
- âœ… Can type in the text area

---

## Test 5: Transform Draft

### Steps:
1. In the composer modal (from Test 4)
2. Type a draft message, e.g., `Thanks for the update!`
3. Click one of the **"Transform"** buttons:
   - "Make it Professional"
   - "Make it Casual"
   - "Make it Shorter"
   - "Make it Longer"
4. Wait a few seconds

### Expected Result:
- The draft text is transformed
- New text appears in the input area
- You can transform multiple times

### What to Look For:
- âœ… Transform button works
- âœ… Text changes based on transformation
- âœ… LLM is processing the transformation

---

## Test 6: Preview and Post Reply

### Steps:
1. In the composer modal
2. Type or transform a draft message
3. Click **"Preview"** button
4. Review how it will look
5. Click **"Post"** button

### Expected Result:
- Preview shows the formatted message
- Post sends the message to the original thread/channel
- Message appears in Slack
- Modal closes

### What to Look For:
- âœ… Preview works
- âœ… Post sends the message
- âœ… Message appears in correct location (thread/channel)

---

## Test 7: Reply from Inbox

### Steps:
1. Open **Home tab** (Empathic Proxy â†’ Home)
2. Find an inbox item (from Test 2 or 3)
3. Click the **"Reply"** button
4. Composer modal opens with suggested reply pre-filled
5. Edit if needed, then click **"Post"**

### Expected Result:
- Composer opens with suggested reply
- Can edit the draft
- Can transform it
- Can post it

---

## Monitoring While Testing

### Watch Requests:
- **ngrok web interface**: http://localhost:4040
  - Shows all incoming requests from Slack in real-time
  - See when events arrive, interactivity calls, etc.

### Watch Logs:
```bash
tail -f /tmp/empathic-proxy.log
```
- Shows app activity
- See LLM calls
- See errors if any

---

## Troubleshooting

### Home Tab is Empty
- **Normal** if you haven't received DMs or mentions yet
- Send a test DM or mention to populate it

### Messages Not Appearing in Inbox
- Check ngrok web interface for incoming requests
- Check app logs for errors
- Verify Event Subscriptions is verified in Slack settings

### LLM Not Working
- Check if Ollama is running: `docker ps | grep ollama`
- Check logs for LLM errors
- Test Ollama directly: `curl http://localhost:11434/api/tags`

### Composer Not Opening
- Check Interactivity URL is set in Slack settings
- Check ngrok web interface for interactivity requests
- Verify shortcut callback_id matches: "compose_reply"

### Transform Not Working
- Check LLM service logs
- Verify `LLM_PROVIDER=localai` is set
- Check Ollama is accessible

---

## Success Checklist

- [ ] Home tab opens and displays
- [ ] DM to bot appears in inbox
- [ ] App mention appears in inbox
- [ ] Inbox shows LLM-generated actions and replies
- [ ] Message shortcut opens composer
- [ ] Transform draft works
- [ ] Preview works
- [ ] Post reply works
- [ ] Reply from inbox works

---

## Next Steps

Once everything is working:
1. Try with different message types
2. Test various transformations
3. Use it with real messages
4. Share with team members to test

Enjoy testing! ðŸš€

